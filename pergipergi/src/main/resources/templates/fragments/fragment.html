<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Home</title>

    <head th:fragment="css">
        <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
    </head>

    <head th:fragment="js">
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"
                integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFIBw8HfCJo="
                crossorigin="anonymous"></script>
        <script src="https://getbootstrap.com/docs/4.1/assets/js/vendor/popper.min.js">
        </script>
        <script th:src="@{/js/bootstrap.min.js}"></script>
    </head>
</head>

</body>
<nav th:fragment="navbar" class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand font-weight-bold text-primary" href="#">PergiPergi</a>
    <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup"
            aria-expanded="false"
            aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
        <ul class="navbar-nav mr-auto" th:with="view=${#httpServletRequest.getServletPath()}">
            <a  th:classappend="${#strings.equals(view,'/')? 'font-weight-bold' : ''}" class="nav-item nav-link  text-secondary" th:href="@{/}">
                Home<span class="sr-only"></span>
            </a>

            <a th:classappend="${#strings.startsWith(view,'/agensi/')? 'font-weight-bold' : ''}" class="nav-item nav-link text-secondary" th:href="@{/agensi/viewall}">
                Agensi<span class="sr-only"></span>
            </a>

            <a th:classappend="${#strings.startsWith(view,'/destinasi/')? 'font-weight-bold' : ''}" class="nav-item nav-link  text-secondary" th:href="@{/destinasi/viewall}">
                Destinasi<span class="sr-only"></span>
            </a>
        </ul>
        <form class="form-inline my-2 my-lg-0" th:action="@{/agensi/view}" method="GET">
            <input class="form-control mr-sm-2" type="search" name="noAgensi" placeholder="No Agensi" aria-label="Search">
            <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Search</button>
        </form>
        
        <ul class="navbar-nav pull-right">
            <a class="nav-item nav-link active" th:href="@{/logout}">Logout</a>
        </ul>

        <ul class="navbar-nav pull-right">
            <a th:href="@{/user/updatePassword/} + ${#httpServletRequest.userPrincipal.name}">Update Password</a>
        </ul>
    </div>
</nav>

<footer th:fragment="footer" class="justify-content-center justify-content-lg-between border-top p-4 border-bottom">
    
    <p><b>Anda berada di halaman: </b></p>
    <p th:text="${#httpServletRequest.getRequestURI().toString.contains('/agensi/')?'View All Agensi':''}"></p>
    <p th:text="${#httpServletRequest.getRequestURI().toString.contains('/destinasi/')?'View All Destinasi':''}"></p>
    
</footer>

</body>
</html>
